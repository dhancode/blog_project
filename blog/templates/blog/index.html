{% extends 'blog/base.html' %}
{% block title %}Blog Posts{% endblock %}

{% block content %}
<style>
    .card {
        background: white;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 20px;
        display: flex;
        gap: 15px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.05);
    }

    .card img {
        width: 150px;
        height: 100px;
        object-fit: cover;
        border-radius: 6px;
    }

    .card-content {
        flex: 1;
    }

    .meta {
        font-size: 13px;
        color: #555;
        margin-bottom: 10px;
    }
</style>

{% for post in posts %}
<div class="card">
    {% if post.image %}
        <img src="{{ post.image.url }}">
    {% else %}
        <img src="https://via.placeholder.com/150">
    {% endif %}

    <div class="card-content">
        <h3>{{ post.title }}</h3>
        <div class="meta">
            By {{ post.author }} | {{ post.created_at|date:"M d, Y" }}
        </div>

        <a href="{% url 'blog_detail' post.id %}" class="btn btn-secondary">View</a>
        <a href="{% url 'blog_update' post.id %}" class="btn btn-warning">Edit</a>
        <a href="{% url 'blog_delete' post.id %}" class="btn btn-danger">Delete</a>
    </div>
</div>
{% empty %}
<p>No blog posts yet.</p>
{% endfor %}
{% endblock %}
